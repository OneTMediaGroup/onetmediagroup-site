<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>OneT — Empire Mode</title>
<meta name="theme-color" content="#0b0b0f"/>
<link rel="stylesheet" href="assets/css/styles.css"/>

<style>

/* ===== HERO ===== */
.album-hero{
  margin:20px 0 40px;
  display:grid;
  grid-template-columns:260px 1fr;
  gap:28px;
  align-items:center;
}
@media(max-width:860px){
  .album-hero{grid-template-columns:1fr;}
}

.album-cover{
  width:100%;
  border-radius:20px;
  box-shadow:var(--shadow);
  position:relative;
  animation:glow 4s ease-in-out infinite;
}
@keyframes glow{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.03);}
}

/* ===== TOGGLE ===== */
.version-toggle{
  display:flex;
  gap:8px;
}
.version-toggle button{
  padding:8px 14px;
  border-radius:12px;
  border:1px solid rgba(35,35,54,.9);
  background:rgba(20,20,28,.6);
  color:var(--text);
  font-weight:800;
  cursor:pointer;
}
.version-toggle button.active{
  background:linear-gradient(135deg,var(--accent1),var(--accent2));
  color:#0b0b0f;
  border:none;
}

/* ===== TRACK CARD ===== */
.track-card.playing{
  border-color:rgba(110,231,255,.7)!important;
  box-shadow:0 0 25px rgba(110,231,255,.2);
}

.track-art{
  width:160px;
  border-radius:14px;
}

/* ===== MINI PLAYER ===== */
.mini-player{
  position:sticky;
  bottom:10px;
  margin-top:40px;
}

.mini-shell{
  padding:14px;
  border-radius:18px;
  background:rgba(11,11,15,.85);
  border:1px solid rgba(35,35,54,.9);
  backdrop-filter:blur(12px);
  display:flex;
  gap:20px;
  align-items:center;
  justify-content:space-between;
}

.progress-bar{
  height:8px;
  background:#222;
  border-radius:999px;
  overflow:hidden;
  cursor:pointer;
}
.progress-fill{
  height:100%;
  width:0%;
  background:linear-gradient(135deg,var(--accent1),var(--accent2));
}

.download-btn{
  font-size:.85rem;
  opacity:.8;
}

</style>
</head>

<body>
<main class="container">

<div class="album-hero">
  <img src="assets/images/Onet-Empire-Mode-Cover-V1.png" class="album-cover"/>

  <div>
    <h1>OneT — Empire Mode</h1>
    <p>14 tracks. Two versions each. Free release.</p>

    <div class="version-toggle">
      <button id="v1Btn" class="active">V1</button>
      <button id="v2Btn">V2</button>
    </div>

    <div style="margin-top:16px;">
      <button class="btn primary" id="playAllBtn">Play All</button>
      <button class="btn" id="stopBtn">Stop</button>
      <!-- OPTIONAL FULL ALBUM ZIP -->
     <span style="font-size:.9rem;color:var(--muted);">
All tracks are free to stream and download individually.
</span>
    </div>

    <div style="margin-top:12px;font-size:.9rem;color:var(--muted);">
      Release Date: 2026 • OneT • One T Media Group
    </div>
  </div>
</div>

<section id="trackList"></section>

<!-- MINI PLAYER -->
<div class="mini-player">
  <div class="mini-shell">
    <div>
      <strong id="miniTitle">Nothing Playing</strong>
      <div id="miniSub" style="font-size:.85rem;color:var(--muted);">V1</div>
    </div>

    <div style="flex:1;max-width:400px;">
      <div style="display:flex;justify-content:space-between;font-size:.8rem;">
        <span id="curTime">0:00</span>
        <span id="totTime">0:00</span>
      </div>
      <div class="progress-bar" id="progressBar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
    </div>

    <div>
      <button id="prevBtn">⟵</button>
      <button id="playPauseBtn">▶︎</button>
      <button id="nextBtn">⟶</button>
    </div>

    <audio id="player" preload="metadata"></audio>
  </div>
</div>

</main>

<script>

const tracks = [
  {num:1,title:"Empire Mode",base:"Track1–EMPIRE-MODE"},
  {num:2,title:"Built From Scratch",base:"Track2–BUILT-FROM-SCRATCH"},
  {num:3,title:"No Days Off",base:"Track3-No-Days-Off"},
  {num:4,title:"Phase One",base:"Track4–PHASE-ONE"},
  {num:5,title:"Drafts & Deadlines",base:"Track5–DRAFTS-&-DEADLINES"},
  {num:6,title:"Guru Crew",base:"Track6–GURU-CREW"},
  {num:7,title:"Crafted in the North",base:"Track7–CRAFTED-IN-THE-NORTH"},
  {num:8,title:"Firestore Dreams",base:"Track8–FIRESTORE-DREAMS"},
  {num:9,title:"Quiet Wins",base:"Track9–QUIET-WINS"},
  {num:10,title:"Redbubble Revenue",base:"Track10–REDBUBBLE-REVENUE"},
  {num:11,title:"Refactor",base:"Track11–REFACTOR"},
  {num:12,title:"Chapter 40",base:"Track12–CHAPTER-40"},
  {num:13,title:"Systems Over Hype",base:"Track13–SYSTEMS-OVER-HYPE"},
  {num:14,title:"Legacy Loop",base:"Track14–LEGACY-LOOP"}
];

let albumVersion = "V1";
let currentIndex = -1;
let playAllMode = false;

const trackList = document.getElementById("trackList");
const player = document.getElementById("player");
const miniTitle = document.getElementById("miniTitle");
const miniSub = document.getElementById("miniSub");

function renderTracks(){
  tracks.forEach((t,i)=>{
    const card = document.createElement("div");
    card.className="card track-card";
    card.id="track"+t.num;
    card.innerHTML=`
      <div style="display:flex;gap:20px;">
        <img src="assets/images/Empire-Mode-Tack-${t.num}-Cover.png"
             class="track-art"
             onerror="this.style.display='none';"/>
        <div style="flex:1;">
          <h3>${t.num}. ${t.title}</h3>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <button class="btn primary" onclick="playTrack(${i})">Play</button>
            <button class="btn download-btn" onclick="downloadTrack(${i})">⬇ Download</button>
            <span id="dur${t.num}" style="margin-left:auto;color:var(--muted);">--:--</span>
          </div>
        </div>
      </div>
    `;
    trackList.appendChild(card);

    // duration auto-detect
    const temp = new Audio(`assets/audio/${t.base}-${albumVersion}.mp3`);
    temp.addEventListener("loadedmetadata",()=>{
      document.getElementById("dur"+t.num).textContent=
        Math.floor(temp.duration/60)+":"+
        String(Math.floor(temp.duration%60)).padStart(2,"0");
    });
  });
}

function playTrack(index){
  currentIndex=index;
  const t=tracks[index];
  player.src=`assets/audio/${t.base}-${albumVersion}.mp3`;
  player.play();
  miniTitle.textContent=t.title;
  miniSub.textContent=albumVersion;
  highlight();
}

function downloadTrack(index){
  const t=tracks[index];
  const a=document.createElement("a");
  a.href=`assets/audio/${t.base}-${albumVersion}.mp3`;
  a.download="";
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
}

function highlight(){
  document.querySelectorAll(".track-card").forEach(c=>c.classList.remove("playing"));
  if(currentIndex>=0)
    document.getElementById("track"+tracks[currentIndex].num)
      .classList.add("playing");
}

document.getElementById("v1Btn").onclick=()=>{
  albumVersion="V1";
  setActive("v1Btn");
};
document.getElementById("v2Btn").onclick=()=>{
  albumVersion="V2";
  setActive("v2Btn");
};
function setActive(id){
  document.getElementById("v1Btn").classList.remove("active");
  document.getElementById("v2Btn").classList.remove("active");
  document.getElementById(id).classList.add("active");
}

document.getElementById("playAllBtn").onclick=()=>{
  playAllMode=true;
  playTrack(0);
};

document.getElementById("stopBtn").onclick=()=>{
  playAllMode=false;
  player.pause();
  player.currentTime=0;
};

player.addEventListener("ended",()=>{
  if(playAllMode && currentIndex<tracks.length-1){
    playTrack(currentIndex+1);
  }
});

// progress
const progressFill=document.getElementById("progressFill");
player.addEventListener("timeupdate",()=>{
  const pct=(player.currentTime/player.duration)*100;
  progressFill.style.width=pct+"%";
  document.getElementById("curTime").textContent=
    Math.floor(player.currentTime/60)+":"+
    String(Math.floor(player.currentTime%60)).padStart(2,"0");
  document.getElementById("totTime").textContent=
    Math.floor(player.duration/60)+":"+
    String(Math.floor(player.duration%60)).padStart(2,"0");
});

renderTracks();

</script>
</body>
</html>
